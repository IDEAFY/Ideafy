/**
 * https://github.com/TAIAUT/Ideafy
 * Proprietary License - All rights reserved
 * Author: Olivier Wietrich <Olivier.Wietrich@taiaut.com>
 * Copyright (c) 2012-2013 TAIAUT
 */

define("Amy/DomUtils",["DomUtils","Tools"],function(e,t){return{hasQuerySelector:function(s,i,n){return t.toArray(e.getNodes(s,n)).indexOf(i)>-1}}}),define("Amy/TestUtils",[],function(){var e=function(e){return"string"==typeof e},t=function(t,s){throw new Error(e(s)?s:t)};return{assertIsObject:function(e,s){return e instanceof Object||t("Is not Object",s),!0},assertIsObservable:function(e,s){return e&&"function"==typeof e.watch&&"function"==typeof e.notify||t("Is not Observable",s),!0},assertIsString:function(s,i){return e(s)||t("Is not String",i),!0}}}),define("Amy/Stack-plugin",["Amy/Stack-service"],function(e){return function(t,s){var i=new e(t,s);this.getStack=function(){return i},this.destination=function(e){i.setDestination(e)},this.hide=function(){i.hide()},this.show=function(e,t,s,n){e.addEventListener(t,function(e){i.show(e.target.getAttribute(s))},"true"==n)}}}),define("Amy/Event-controller",["Amy/TestUtils","Tools"],function(e,t){return function(e,s){var i=e instanceof Object?e:null,n=function(e){return"boolean"==typeof e?e:!1},a=function(){var e,t=!0;for(e=arguments.length;e>=0;e--)t=t&&"string"==typeof arguments[e];return t},r=n(s),c={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};this.addListener=function(e,t,s,i){e.addEventListener(this.map(t),s,i)},this.call=function(e){i[e].apply(i,t.toArray(arguments).slice(1))},this.isTouch=function(){return r},this.setTouch=function(e){return n(e)?(r=e,!0):!1},this.setMap=function(e,t){return a(e,t)?(c[e]=t,!0):!1},this.map=function(e){var t=c[e];return t&&r?t:e},this.setScope=function(e){return i=e,!0},this.scope=function(){return i}}}),define("Amy/Delegate-plugin",["Amy/Event-controller","Amy/DomUtils"],function(e,t){function s(){this.listen=function(e,t,s,i){var n=this;this.addListener(e,t,function(t){n.call(s,t,e)},"true"==i)},this.selector=function(e,s,i,n,a){var r=this;this.addListener(e,i,function(i){t.hasQuerySelector(e,i.target,s)&&r.call(n,i,e)},"true"==a)}}return function(t,i){return s.prototype=new e(t,i),new s}}),define("Amy/Control-plugin",["Amy/Event-controller","Amy/DomUtils"],function(e,t){function s(){var e=null;this.init=function(t){e=t},this.radio=function(s,i,n,a,r,c){var o=this;this.addListener(s,a,function(a){var c=a.target;t.hasQuerySelector(s,c,i)&&(o.radioClass(c,e,n),e=c,o.call(r,a))},"true"==c)},this.radioClass=function(e,t,s){e.classList.add(s),t&&t!=e&&t.classList.remove(s)},this.toggleClass=function(e,t){return e.classList.toggle(t)},this.toggle=function(e,s,i,n,a,r){var c=this;this.addListener(e,n,function(n){var r=n.target;t.hasQuerySelector(e,r,s)&&(c.toggleClass(r,i),c.call(a,n))},"true"==r)}}return function(t,i){return s.prototype=new e(t,i),new s}}),define("Amy/Stack-service",["Store","OObject","DomUtils","Tools"],function(e,t,s){return function(i,n){var a=new e(i),r=n,c="",o=null;this.setDestination=function(e){return s.isAcceptedType(e)?(r=e,!0):!1},this.getDestination=function(){return r},this.setCurrentScreen=function(e){o=e},this.getCurrentScreen=function(){return o},this.add=function(e,s){return"string"==typeof e&&s instanceof t?(a.set(e,s),this.hide(s),!0):!1},this.get=function(e){return a.get(e)},this.del=function(e){return a.del(e)},this.reset=function(e){return a.reset(e)},this.getCurrentName=function(){return c},this.show=function(e){var t=this.get(e);return t&&e!==c?(t.place(r),o&&this.hide(o),this.setCurrentScreen(t),c=e,!0):!1},this.hide=function(e){e.place(document.createDocumentFragment())}}});