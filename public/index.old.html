<!DOCTYPE html>
 <html lang="en">
 <head>
    <title>Ideafy</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta id="mobile" name="apple-mobile-web-app-capable" content="yes">
    <meta name="author" content="TAIAUT">
<!--    <link rel="stylesheet" href="stylesheets/responsive.css"/> -->
    <link rel="stylesheet" href="stylesheets/startup.css">
    <link rel="stylesheet" href="stylesheets/popups.css">
    <link rel="stylesheet" href="stylesheets/library.css">
    <link rel="stylesheet" href="stylesheets/brainstorm.css">
    <link rel="stylesheet" href="stylesheets/social.css">
    <link rel="stylesheet" href="stylesheets/dashboard.css">
    <script src="javascripts/require.js"></script>
    <script type="text/javascript">
 		 require.config({waitSeconds: 25});
 	</script>
 </head>
 
 <body>
 	<div class = "container">
 		<!-- old login form
 		<div class= "login">
			<h1 class="loginheader">Enter your email address</h1>
 			<input class="email" placeholder="Well you need it to start the app" autocomplete="on" data-event="listen:keydown, check">
 			<div class="userinfo">
 				<div class="newuser invisible">
 					<h2 class="newheader">Two more bits of information about you</h2>
 					<div class="newuserinfo">
 							<label>First name: </label>
 							<input name="firstname" data-model="bind: value, firstname">
 					</div>
 					<div class="newuserinfo">
 							<label>Last name: </label>
 							<input label = "lastname" data-model="bind: value, lastname" data-event="listen:input, checknew"> 						</tr>
 					</div>
 					<button class = "enter invisible" data-event="listen:click, upload"></button>
 					<blockquote class="missinginfo" data-info="bind: innerHTML, errormessage"></blockquote>
 				</div>
 				<div class="returning-user invisible">
 					<h2 class="welcome">Welcome back <span data-model="bind:innerHTML, firstname"></span>!</h2>
 					<button data-event="listen:click, next"></button>
				</div>
 			</div>
		</div>
		-->
		<div class= "login">
			<img src="images/logoLogInPage.png"/>
			<div class ="defaultlogin">
				<div class="loginform">
					<input class="loginfield" data-login="bind: value, email" data-loginevent="listen: keypress, resetError" placeholder="Email" autocomplete="on">
					<hr class="loginseparator"/>
					<input class="loginfield" type="password" placeholder="Password" data-loginevent="listen: keypress, resetError" data-login="bind: value, pwd" autocomplete="on">	
				</div>
				<div class="enter" data-loginevent="listen:click, login">Log In</div>
				<div class="loginalert invisible" data-login="bind: setVisible, errormsg; bind:innerHTML, errormsg">Error messages</div>
			</div>
			<div class="signupbutton" data-loginevent="listen:click, signup">New User</div>
		</div>
		<div class="signup">
			<img src="images/logoLogInPage.png"/>
			<form class="signupform">
				<input class="loginfield" data-signup = "bind:value, email" placeholder="Email" autocomplete="on">
				<hr class="loginseparator"/>
				<input class="loginfield" type="password" data-signup="bind: value, pwd" placeholder="Enter password">
				<hr class="loginseparator"/>
				<input class="loginfield" type="password" data-signup="bind: value, pwdbis" placeholder="Confirm password">
				<hr class="loginseparator"/>
				<input class="loginfield" data-signup="bind: value, firstname" placeholder="First name">
				<hr class="loginseparator"/>
				<input class="loginfield" data-signup="bind: value, lastname" placeholder="Last name">
			</form>
			<div class="signupalert invisible" data-login="bind: setVisible, errormsg">Error messages</div>
			<div class="enter" data-signupevent = "listen:click, signup">Go !</div>
		</div>
 
		<div class = "startup" style="background-image:url('/images/startup/bg1.png');" data-background = "bind:style, style">
 			<table class = "startup-box">
 				<tr class="startup-firstrow">
 					<td class="startup-button startup-firstcolumn" data-startup = "listen:click, display" name = "library"><img src="images/library-button.png"/></td>
 					<td class="startup-button" data-startup = "listen:click, display" name = "brainstorm"><img src="images/brainstorm-button.png"/></td>
 				</tr>
 				<tr>
 					<td class="startup-button startup-firstcolumn" data-startup = "listen:click, display" name = "connect"><img src="images/connect-button.png"/></td>
 					<td class="startup-button" data-startup = "listen:click, display" name = "dashboard"><img src="images/dashboard-button.png"/></td>
 				</tr>
 			</table>
 		</div>
 		
 		<div class = "library">
 			<div class = "headerbar">
 				<div class = "library-header">
 					<div class = "homeButton" name = "startup" data-event = "listen: click, start"></div>
 				
 					<img class = "avatar" data-avatar="bind:src, image" data-event="listen:click, profile"></img>
 					<div class = "meta">
 						<div class = "meta-name">Welcome <span data-headerleft = "bind:innerHTML, firstname">User</span></div>
 						<div class = "meta-notifications"> <span data-headerleft = "bind:notify, notifications" data-event = "listen: click, mailbox"></span></div>
 					</div>
 					<div class = "contentMenu">
 						<ul data-menu="foreach">
 							<li>
 								<button class="contentButton" data-menu = "bind:innerHTML, label; bind:name, name" data-event = "listen: click, display">button</button>
 							</li>
 						</ul>
 					</div>
 					<div class = "actionMenu">
 						<div class = "change-settings" name = "settings" data-event = "listen: click, start"></div>
 						<div class = "brainstorm-start" name = "brainstorm" data-event = "listen:click, start"></div>
					</div>
 				</div>
 			</div>
 			
 			<div class = "library-content">
 				
 				<!---------- IDEAS ---------->
 				
 				<div class = "ideas">
					<!----- Left box ----->
					<div class = "listbox">
						 <!--- Idea List Header --->
						 <div class = "idealistheader">
 							<div class = "idealist-tools">
 								<div class = "searchbox">
 									<input class="ideasearch" type="search" results="5" autosave="prevsearch" placeholder="Search" data-tools="listen:keydown,search">
 									<blockquote class="searchresult" data-result="bind: innerHTML, result"></blockquote>
 								</div>
 								<button class="browseideas" data-tools="listen:click, browse" name="browse"></button>
 								<button class="sortideas" data-tools="listen:click, sort" name="sort"></button>
 								<button class="addidea" data-tools="listen:mouseup, addidea" name="new"></button>
 							</div>
  						</div>
  						<!--- Idea List Stack --->
  						<div class = "idealiststack">
  							<div class = "userbydate">
  								<ul data-ideas="foreach">
  									<li class="ideapreview" data-event="listen:click, select">
  										<div class = "ideapreviewheader">
  											<h1 class="idealisttitle" data-ideas="bind:innerHTML, value.doc.title">Idea</h1>
  											<span class="ideadate" data-ideas="bind:formatDate, value.doc.creation_date"></span>
  										</div>
  										<hr/>
  										<blockquote class="ideaabstract" data-ideas="bind:truncate, value.doc.description">short description</blockquote>
  										<hr/>
  										<div class = "idearating">
  											<div data-ideas = "bind: setRating, value.rating"></div>
  										</div>
  									</li>
  								</ul>
  							</div>
  							<div class = "userbyname">
  								<ul data-ideas="foreach">
  									<li class="ideapreview" data-event="listen:click, select">
  										<div class = "ideapreviewheader">
  											<h1 class="idealisttitle" data-ideas="bind:innerHTML, value.doc.title">Idea</h1>
  											<span class="ideadate" data-ideas="bind:formatDate, value.doc.creation_date"></span>
  										</div>
  										<hr/>
  										<blockquote class="ideaabstract" data-ideas="bind:truncate, value.doc.description">short description</blockquote>
  										<hr/>
  										<div class = "idearating">
  											<div data-ideas = "bind: setRating, value.rating"></div>
  										</div>
  									</li>
  								</ul>
  							</div>
  							<div class = "browsebydate">
  								<ul data-ideas="foreach">
  									<li class="ideapreview" data-event="listen:click, select">
  										<div class = "ideapreviewheader">
  											<h1 class="idealisttitle" data-ideas="bind:innerHTML, value.doc.title">Idea</h1>
  											<span class="ideadate" data-ideas="bind:formatDate, value.doc.creation_date"></span>
  										</div>
  										<hr/>
  										<blockquote class="ideaabstract" data-ideas="bind:truncate, value.doc.description">short description</blockquote>
  										<hr/>
  										<div class = "idearating">
  											<div data-ideas = "bind: setRating, value.rating"></div>
  										</div>
  									</li>
  								</ul>
  							</div>
  							<div class = "browsebyname">
  								<ul data-ideas="foreach">
  									<li class="ideapreview" data-event="listen:click, select">
  										<div class = "ideapreviewheader">
  											<h1 class="idealisttitle" data-ideas="bind:innerHTML, value.doc.title">Idea</h1>
  											<span class="ideadate" data-ideas="bind:formatDate, value.doc.creation_date"></span>
  										</div>
  										<hr/>
  										<blockquote class="ideaabstract" data-ideas="bind:truncate, value.doc.description">short description</blockquote>
  										<hr/>
  										<div class = "idearating">
  											<div data-ideas = "bind: setRating, value.rating"></div>
  										</div>
  									</li>
  								</ul>
  							</div>
  							<!-- search lists -->
  							<div class = "searchuserbydate">
  								<ul data-ideas="foreach">
  									<li class="ideapreview" data-event="listen:click, select">
  										<div class = "ideapreviewheader">
  											<h1 class="idealisttitle" data-ideas="bind:innerHTML, doc.title">Idea</h1>
  											<span class="ideadate" data-ideas="bind:formatDate, doc.creation_date"></span>
  										</div>
  										<hr/>
  										<blockquote class="ideaabstract" data-ideas="bind:truncate, value.doc.description">short description</blockquote>
  										<hr/>
  										<div class = "idearating">
  											<div data-ideas = "bind: computeRating, doc.votes"></div>
  										</div>
  									</li>
  								</ul>
  							</div>
  							<div class = "searchuserbyname">
  								<ul data-ideas="foreach">
  									<li class="ideapreview" data-event="listen:click, select">
  										<div class = "ideapreviewheader">
  											<h1 class="idealisttitle" data-ideas="bind:innerHTML, doc.title">Idea</h1>
  											<span class="ideadate" data-ideas="bind:formatDate, doc.creation_date"></span>
  										</div>
  										<hr/>
  										<blockquote class="ideaabstract" data-ideas="bind:truncate, doc.description">short description</blockquote>
  										<hr/>
  										<div class = "idearating">
  											<div data-ideas = "bind: computeRating, doc.votes"></div>
  										</div>
  									</li>
  								</ul>
  							</div>
  							<div class = "searchpublicbydate">
  								<ul data-ideas="foreach">
  									<li class="ideapreview" data-event="listen:click, select">
  										<div class = "ideapreviewheader">
  											<h1 class="idealisttitle" data-ideas="bind:innerHTML, doc.title">Idea</h1>
  											<span class="ideadate" data-ideas="bind:formatDate, doc.creation_date"></span>
  										</div>
  										<hr/>
  										<blockquote class="ideaabstract" data-ideas="bind:truncate, doc.description">short description</blockquote>
  										<hr/>
  										<div class = "idearating">
  											<div data-ideas = "bind: computeRating, doc.votes"></div>
  										</div>
  									</li>
  								</ul>
  							</div>
  							<div class = "searchpublicbyname">
  								<ul data-ideas="foreach">
  									<li class="ideapreview" data-event="listen:click, select">
  										<div class = "ideapreviewheader">
  											<h1 class="idealisttitle" data-ideas="bind:innerHTML, doc.title">Idea</h1>
  											<span class="ideadate" data-ideas="bind:formatDate, doc.creation_date"></span>
  										</div>
  										<hr/>
  										<blockquote class="ideaabstract" data-ideas="bind:truncate, doc.description">short description</blockquote>
  										<hr/>
  										<div class = "idearating">
  											<div data-ideas = "bind: computeRating, doc.votes"></div>
  										</div>
  									</li>
  								</ul>
  							</div>
						</div>
					</div>
					<!----- Right box ----->
					<div class = "contentbox">
						<!--- Idea Content Stack --->
						<div class="ideacontentstack">
							<div class = "newidea">
								<form class="ideacard" data-newideaevent="listen:submit, upload">
  									<fieldset>
										<legend data-newideatexts="bind:innerHTML, legend">Add a new Idea</legend>
										<div class="ideaheader">
											<label data-newideatexts="bind:innerHTML, titlelbl">Title<br/></label>
											<input maxlength=28 data-newideamodel="bind:value, title" class="input-ideatitle" placeholder="Give your idea a name"/>
										</div>
										<div class="ideadesc">
											<label data-newideatexts="bind:innerHTML, desclbl">Description<br/></label>
											<textarea maxlength=600 class="input-ideadesc" data-newideamodel="bind:value, description" rows="3" placeholder="Describe your idea in non technical terms. What problem are you solving? How will it help users?"></textarea>
										</div>
										<div class="ideasol">
											<label data-newideatexts="bind:innerHTML, sollbl">Solution<br/></label>
											<textarea maxlength=600 class="input-ideasol" data-newideamodel="bind:value, solution" rows="3" placeholder="Describe what technologies you would use and how. What are the key innovations of your design?"></textarea>
										</div>
										<table class="ideafooter">
											<tr>
												<td class="authors">
													<span class="authorlbl" data-newideatexts="bind:innerHTML, authorlbl">Created by :</span>					
													<span data-newideamodel="bind: innerHTML, authornames"></span>
												</td>
												<td class="ispublic" rowspan="2">
													<input type="radio" name="visibility" value = "private" data-newideaevent="listen:click, changeVisibility" data-newideamodel="bind: setVisibility, visibility"/>Private<br/>
													<input type="radio" name="visibility" value = "public" data-newideaevent="listen:click, changeVisibility" data-newideamodel="bind: setVisibility, visibility"/>Public
												</td>
											</tr>
											<tr>
												<td class="creationdate">
													<span class="datelbl" data-newideatexts="bind:innerHTML, datelbl">Date :</span>
													<span class="newideadate" data-newideamodel="bind:formatDate, creation_date"></span>
												</td>
											</tr>
			  							</table>
		 								<div class="idea-action">
	 										<button data-newideaevent="listen:click,cancel">Cancel</button>
	 										<button type="submit" data-newideatexts="bind:innerHTML, savelbl" >Save</button>
			  							</div>
									</fieldset>
								</form> 
							</div>
							<div class = "displayidea">
								<div class = "ideacontent">
									<!-- events should be changed to double-tap to edit textarea fields -->
									<textarea class="ideatitle" readonly="readonly" data-idea="bind:innerHTML, 0.doc.title" data-action="listen: click, change"><h1>Title</h1></textarea>
									<textarea class="SolutionDescription" readonly="readonly" data-idea="bind:innerHTML, 0.doc.description" data-action="listen: click, change">Description</textarea>
									<textarea class="SolutionImplementation" readonly="readonly" data-idea="bind:innerHTML, 0.doc.solution" data-action="listen: click, change">Description</textarea>
									<div class = "displayideafooter">
										<p class="displayauthors"><label>Authored by: </label><span data-idea="bind: innerHTML, 0.doc.authornames" data-action="listen: click, showAll"></span></p>
										
										<p><label>Created on: </label><span data-idea="bind:formatDate, 0.doc.creation_date"></span></p>
									</div>
									<div class = "displayideafeedback">
										<div class = "displayrating">
											<span class="votinglabel" data-idea="bind:setRatingDisplay, 0.value.rating">Vote/show</span>
											<div class="idearating">
												<ul data-idearating = "foreach">
													<li data-action="listen: mouseup, rate; listen: mouseover, highlightGrade"><img data-idearating = "bind: setSrc, state"></li>
												</ul>
											</div>
										</div>
										<button class = "displaytwocentbutton">View 2cts</button>
									</div>
								</div>
								<div class = "ideaoptions">
									<ul class="ideabuttons" data-buttons="foreach">
   										<li class="ideabutton"><button data-buttons="bind: name, name; bind: setstyle, style" data-action="listen:click, action"></button></li>
   									</ul>
								</div>
							</div>
							<div class = "editidea">
								<form class="ideacard" data-editideaevent="listen:submit, upload">
  									<fieldset>
										<legend data-editideatexts="bind:innerHTML, legend">Edit Idea</legend>
										<div class="ideaheader">
											<label data-editideatexts="bind:innerHTML, titlelbl">Title<br/></label>
											<input maxlength=28 data-editideamodel="bind:value, title" class="input-ideatitle" placeholder="Give your idea a name"/>
										</div>
										<div class="ideadesc">
											<label data-editideatexts="bind:innerHTML, desclbl">Description<br/></label>
											<textarea maxlength=600 class="input-ideadesc" data-editideamodel="bind:value, description" rows="3" placeholder="Describe your idea in non technical terms. What problem are you solving? How will it help users?"></textarea>
										</div>
										<div class="ideasol">
											<label data-editideatexts="bind:innerHTML, sollbl">Solution<br/></label>
											<textarea maxlength=600 class="input-ideasol" data-editideamodel="bind:value, solution" rows="3" placeholder="Describe what technologies you would use and how. What are the key innovations of your design?"></textarea>
										</div>
										<table class="ideafooter">
											<tr>
												<td class="authors">
													<span class="authorlbl" data-editideatexts="bind:innerHTML, authorlbl">Created by :</span>					
													<span data-editideamodel="bind: innerHTML, authornames"></span>
												</td>
												<td class="ispublic" rowspan="2">
													<input type="radio" name="visibility" value = "private" data-editideaevent="listen:click, changeVisibility" data-editideamodel="bind: setVisibility, visibility"/>Private<br/>
													<input type="radio" name="visibility" value = "public" data-editideaevent="listen:click, changeVisibility" data-editideamodel="bind: setVisibility, visibility"/>Public
												</td>
											</tr>
											<tr>
												<td class="creationdate">
													<p>
														<span class="datelbl" data-editideatexts="bind:innerHTML, datelbl"></span>
														<span class="ideadate" data-editideamodel="bind:formatDate, creation_date"></span></p>
													<p>
														<span class="datelbl" data-editideatexts="bind:innerHTML, modificationlbl"></span>
														<span class="ideadate" data-editideamodel="bind:formatDate, modification_date"></span>
													</p>	
												</td>
											</tr>
			  							</table>
		 								<div class="idea-action">
	 										<button data-editideaevent="listen:click,cancel">Cancel</button>
	 										<button type="submit" data-editideatexts="bind:innerHTML, savelbl" >Save</button>
			  							</div>
									</fieldset>
								</form> 
							</div>
						</div>
					</div>
  										
 				</div>
 				
 				<div class = "decks">
					<div class = "listbox">
						<div class = "activedeck">
							<legend>Active deck:</legend>
							<h1 class = "decktitle" data-model="bind:innerHTML, title">Deck title</h1>
							<table class = "deckcontentoverview">
								<tr>
									<td><button class = "peoplebutton" name="char" data-event = "listen:click, showCards"><div class="nbcircle"><p class = "nbcarditems" data-model="bind:innerHTML, content.characters.length">47</p></div></button></td>
									<td><button class = "contextbutton" name="context" data-event = "listen:click, showCards"><div class="nbcircle"><p class = "nbcarditems" data-model="bind:innerHTML, content.contexts.length">48</p></div></button></td>
									<td><button class = "problembutton" name="problem" data-event = "listen:click, showCards"><div class="nbcircle"><p class = "nbcarditems" data-model="bind:innerHTML, content.problems.length">49</p></div></button></td>
									<td><button class = "technobutton" name="techno" data-event = "listen:click, showCards"><div class="nbcircle"><p class = "nbcarditems" data-model="bind:innerHTML, content.techno.length">50</p></div></button></td>
								</tr>
							</table>
							<div class = "activedeckfooter">
								<span class="deckauthor">Designed by <span data-model="bind: innerHTML, author"></span></span>
								<span class="deckdate" data-model="bind:formatDate, date">2012</span>
							</div>
						</div>
						<div class = "decklist">
  							<ul data-decks="foreach">
  								<li class="deckpreview" data-event="listen:click, select">
  									<button>
  									<h1 class="decklisttitle" data-decks="bind:innerHTML, doc.title">Deck</h1>
  									<blockquote class="deckabstract" data-decks="bind:truncate, doc.description">short description</blockquote>
  									<hr/>
  									<table class = "deckstructure">
  										<td>
  											<img src="images/library/peopleicon.png">
  											<span data-decks="bind:innerHTML, doc.content.characters.length"></span>
  										</td>
  										<td>
  											<img src="images/library/contexticon.png">
  											<span data-decks="bind:innerHTML, doc.content.contexts.length"></span>
  										</td>
  										<td>
  											<img src="images/library/problemicon.png">
  											<span data-decks="bind:innerHTML, doc.content.problems.length"></span>
  										</td>
  										<td>
  											<img src="images/library/technoicon.png">
  											<span data-decks="bind:innerHTML, doc.content.techno.length"></span>
  										</td>
  									</table>
  									<hr/>
  									<span class="deckdate" data-decks="bind:formatDate, doc.date"></span>
  									</button>
  								</li>
  							</ul>
						</div>
					</div>
 					<div class = "contentbox">
 						<div class = "deckcontentheader">
 							<table>
 								<tr>
 									<td class = "deckstatus"><div data-header="bind:setStatus, 0.status"></div></td>
 									<td class = "decktitle" data-header="bind:innerHTML, 1.title">Title</td>
 									<td class ="buttonlist">
 										<ul data-header="foreach:header,2,6">
 											<li><button data-header="bind: setStyle, style", data-event="listen:click, show"><img data-header="bind:src, src"></button><span data-header="bind:innerHTML, label">Overview</span></li>
 										</ul>
 									</td>
 							</table>
 						</div>
 						<div class = "deckcontentstack">
 							<div class = "deckoverview">
 								<div class = "deckoverviewtitle" data-model="bind:innerHTML, title">TITLE</div>
 								<div class = "deckoverviewimg"><img data-model="bind:src, picture_url"></div>
 								<blockquote class = "deckoverviewdesc" data-model="bind: innerHTML, description">FULL DESCRIPTION</blockquote>
 								<div class = "deckoverviewfooter">
 									<span data-model="bind:innerHTML, authorlbl"></span><span data-model="bind:innerHTML, author">author</span><br/>
 									<span data-model="bind: formatDate, date">date</span>
 								</div>
 								<button class ="deckactivate" data-event = "listen: click, setActive">
 								</button>
 							</div>
 							<div class = "deckcharacters">
 								<ul class="cardlist" data-list="foreach">
 									<li class = "smallcharactercard" data-event="listen:click, zoom">
 										<h1 class = "smallcardtitle" data-list="bind:innerHTML, doc.title">Vincent</h1>
 										<div class = "smallcharpicture"><img data-list="bind:src, doc.picture_url"></img></div>
 										<div class = "charage" data-list="bind:innerHTML, doc.age">39</div>
 										<div class = "smallcardinfo" data-list="bind:innerHTML, doc.location">Boersch (67)</div>
 									</li>
 								</ul>
 								<div class="deckfooter">
 									<ul class="cardpagination" data-pages="foreach">
 										<li><button class = "pagesequence" data-pages="bind:innerHTML, seq" data-event="listen:click, display">1-12</button></li>
 									</ul>
 								</div>
 							</div>
 							<div class = "deckcontexts">
 								<ul class="cardlist" data-list="foreach">
 									<li class = "smallcontextcard" data-event="listen:click, zoom">
 										<h1 class = "smallcardtitle" data-list="bind:innerHTML, doc.title">Context</h1>
 										<div class = "smallcardpicture"><img data-list="bind:src, doc.picture_url"></img></div>
 										<div class = "smallcardinfo" data-list="bind:innerHTML, doc.category">Place</div>
 									</li>
 								</ul>
 								<div class="deckfooter">
 									<ul class="cardpagination" data-pages="foreach">
 										<li><button class = "pagesequence" data-pages="bind:innerHTML, seq" data-event="listen:click, display">1-12</button></li>
 									</ul>
 								</div> 								
 							</div>
 							<div class = "deckproblems">
 								<ul class="cardlist" data-list="foreach">
 									<li class = "smallproblemcard" data-event="listen:click, zoom">
 										<h1 class = "smallcardtitle"> <span data-list="bind:innerHTML, doc.title">Problem</span></h1>
 										<div class = "smallcardpicture"><img data-list="bind:src, doc.picture_url"></img></div>
 										<div class = "smallcardinfo" data-list="bind:innerHTML, doc.category">Place</div>
 									</li>
 								</ul>
 								<div class="deckfooter">
 									<ul class="cardpagination" data-pages="foreach">
 										<li><button class = "pagesequence" data-pages="bind:innerHTML, seq" data-event="listen:click, display">1-12</button></li>
 									</ul>
 								</div>
 							</div>
 							<div class = "decktechno">
 								<ul class="cardlist" data-list="foreach">
 									<li class = "smalltechnocard" data-event="listen:click, zoom">
 										<h1 class = "smallcardtitle" data-list="bind:innerHTML, doc.title">Techno</h1>
 										<div class = "smallcardpicture"><img data-list="bind:src, doc.picture_url"></img></div>
 										<div class = "smallcardinfo" data-list="bind:innerHTML, doc.category">Place</div>
 									</li>
 								</ul>
 								<div class="deckfooter">
 									<ul class="cardpagination" data-pages="foreach">
 										<li><button class = "pagesequence" data-pages="bind:innerHTML, seq" data-event="listen:click, display">1-12</button></li>
 									</ul>
 								</div>
 							</div>
 						</div>
 					</div>
 				</div>
 				
 				<div class = "sessions">
 					<div class = "sessionheader">
						<span>to list sessions</span>
					</div>
 					<div class = "sessionlist">
 						<ul data-session = "foreach">
 							<li data-session="bind:setBG, value._id">
 								<div class = "sessionoverview">
 									<table class "boxscore">
 										<tr>
 											<td data-session="bind:formatDate, value.date">date</td>
 											<td data-session="bind: innerHTML, value.title">title</td>
 											<td data-session="bind: formatMode, value.mode">type</td>
 											<td class = "participants">
 												<p data-session = "bind: innerHTML, value.initiator.username">Initiator</p>
 												<p data-session = "bind: formatParticipants, value.participants">Participants</p>
 											</td>
 											<td class = "sessionideas" data-session = "bind: formatIdeas, value.idea" data-event="listen:click,viewIdeas">Ideas</td>
 											<td data-session="bind:formatScore, value.score">Score</td>
 											<td data-session="bind:formatStatus, value.status">Completed</td>
 											<td class = "boxoptions">
 												<button class = "playsession" data-event="listen: click, playSession"></button>
 												<button class = "deletesession" data-event="listen: click, deleteSession"></button>
 											</td>
 										</tr>
 									</table>
 								</div>
 							</li>
 						</ul>
 						
 					</div>
 				</div>
 			</div>
 			
 		</div>
 		
 		<div class="brainstorm">
 			<div class = "headerbar">
 				<div class = "brainstorm-header">
 					<div class="homeButton" name="startup" data-event="listen:click,exit"></div>
 					<div class="clock">
 						<p> 
 							<span data-model="bind:innerHTML, date"></span>
 							<br/>
 							<span data-model="bind: innerHTML, time"></span>
 						</p>
 					</div>
 				</div>
 			</div>
 			<div class = "brainstormcontentstack">
 				<div class = "brainstormmenu">
 					<ul data-menu = "foreach">
 						<li class = "brainstorm-type" data-menu="bind:innerHTML, title; bind:toggleClass, highlighted, highlighted" data-event="listen:click, start">Ideafy now!</li>
 					</ul>
 				</div>
 				<div class = "quickbrainstormingstack">
 					<div class = "qbheader">
 						<div class = "qbstartingpoint" data-event="listen: click, show"><span>Start</span></div>
 						<div class = "qbstepmenu">
 							<ul class = "qbsteps" data-model = "foreach">
 								<li class = "qbstep" data-model="bind:setStatus, status" data-event="listen:click, show"><span data-model="bind:innerHTML, title"></span></li>
 							</ul>
 						</div>
 						<!-- <div class = "qbwrappingpoint" data-event="listen:click, show"><span>Wrap-up</span></div> -->
 					</div>
 					<div class = "qbcontentstack">
 						<div class = "qbstart">
 							<textarea class="qbtitle" required data-model="bind: value, title; bind:setReadOnly, isCurrentStep" placeholder="Please enter a title" data-event="listen:keydown, checkNext"></textarea>
 							<textarea maxlength=600 class="qbdescription" placeholder="Provide a short description of your session to retrieve it easily" data-event="listen:keydown, checkNext" data-model="bind:value, description; bind:setReadOnly, isCurrentStep"></textarea>
 							<button class="qbnext invisible" data-model="bind:setVisible, displayNext" data-event="listen:click,next">Next</button>
 						</div>
 						<div class = "qbsetup">
 							<table class = "drawcards">
 								<tr class = "carddecks">
 									<td class = "chardeckback" name="char" data-display="bind: setVisible, showchardeck" data-event="listen:click, draw">
 										<p>Draw a character</p>
 										<blockquote><span data-display="bind:innerHTML, nbChar"></span> left in stack</blockquote>
 										<button class="reloadchars reloaddeck invisible" data-display="bind:setVisible, reloadchars" data-event="listen:click, reload"></button>
 									</td>
 									<td class = "contextdeckback" name="context" data-display="bind: setVisible, showcontextdeck" data-event="listen:click, draw">
 										<p>Draw a context</p>
 										<blockquote><span data-display="bind:innerHTML, nbContext"></span> left in stack</blockquote>
 										<button class="reloadcontexts reloaddeck invisible" data-display="bind:setVisible, reloadcontexts" data-event="listen:click, reload"></button>
 									</td>
 									<td class = "problemdeckback" name="problem" data-display="bind: setVisible, showproblemdeck" data-event="listen:click, draw">
 										<p>Draw a problem</p>
 										<blockquote><span data-display="bind:innerHTML, nbProblem"></span> left in stack</blockquote>
 										<button class="reloadproblems reloaddeck invisible" data-display="bind:setVisible, reloadproblems" data-event="listen:click, reload"></button>
 									</td>
 								</tr>
 								<tr class = "carddraw">
 									<td>
 										<div class = "carddraw invisible" data-display="bind:setVisible, char">
 											<div class = "smallcharactercard" data-event="listen:click, zoom">
 												<h1 class = "smallcardtitle" data-char="bind:innerHTML, title">Vincent</h1>
 												<div class = "smallcharpicture"><img data-char="bind:src, picture_url"></img></div>
 												<div class = "charage" data-char="bind:innerHTML, age">39</div>
 												<div class = "smallcardinfo" data-char="bind:innerHTML, location">Boersch (67)</div>
 											</div>
 										</div>
									</td>
 									<td>
 										<div class = "carddraw invisible" data-display="bind:setVisible, context">
 											<div class = "smallcontextcard" data-event="listen:click, zoom">
 												<h1 class = "smallcardtitle" data-context="bind:innerHTML, title">Context</h1>
 												<div class = "smallcardpicture"><img data-context="bind:src, picture_url"></img></div>
 												<div class = "smallcardinfo" data-context="bind:innerHTML, category">Place</div>
 											</div>
 										</div>
 									</td>
 									<td>
 										<div class = "carddraw invisible" data-display="bind:setVisible, problem">
 											<div class = "smallproblemcard" data-event="listen:click, zoom">
 												<h1 class = "smallcardtitle"> <span data-problem="bind:innerHTML, title">Problem</span></h1>
 												<div class = "smallcardpicture"><img data-problem="bind:src, picture_url"></img></div>
 												<div class = "smallcardinfo" data-problem="bind:innerHTML, category">Place</div>
 											</div>
 										</div>
 									</td>
 								</tr>
 								<tr class = "drawbuttons" data-display="bind:setVisible, unlocked">
 									<td>
 										<p>Accept or draw an other card</p>
 										<div class = "drawok" name="charok" data-event="listen:click, toggleLock" data-display="bind: setBg, charok"></div>
 									</td>
 									<td>
 										<p>Accept or draw an other card</p>
 										<div class = "drawok" name="contextok" data-event="listen:click, toggleLock" data-display="bind: setBg, contextok"></div>
 									</td>
 									<td>
 										<p>Accept or draw an other card</p>
 										<div class = "drawok" name="problemok" data-event="listen:click, toggleLock" data-display="bind: setBg, problemok"></div>
 									</td>
 								</tr>
 							</table>
 							<div class="qbtimer" data-display="bind:displayTimer, timer">Chrono</div>
 							<button class="qbnext setupcomplete invisible" data-display="bind:setVisible, nextVisible" data-event="listen:click,next">Next</button>
 						</div>
 						<div class = "qbcraft1">
 							<div class = "wb1 whiteboard">
 								<div class = "setupcards">
 									<ul data-cards = "foreach">
 										<li data-cards="bind: setCard, id" data-event="listen:click,zoom"></li>
 									</ul>
 								</div>
 								<div class = "postitboard">
 									<ul data-postit = "foreach">
 										<li class = "postit" data-postit = "bind:setStyle, style" data-event="listen: click, checkout"><span data-postit="bind: innerHTML, content">Mon postit</span>
 										</li>
 									</ul>
 								</div>
 								<div class = "whiteboardnav invisible" data-display = "bind: setVisible, navBar">
 									<ul data-page = "foreach">
 										<li> 
 											<div data-page = "bind: setSelected, selected" data-event= "listen: click, showPage">
 											</div>
 										</li>
 									</ul>
 								</div>
 							</div>
 							<table class = "ut1 usertable">
 								<td class = "textpostit">
 									<textarea class = "editpostit" maxlength="100" data-note="bind: value, content; bind: setColor, color" placeholder="write down your thought"></textarea>
 									<div class = "pencils">
 										<ul class = "pencilcolors" data-pencils="foreach">
 											<li data-pencils="bind: setColor, color" data-event="listen: click, selectPencil"></li>
 										</ul>
 									</div>
 									<button data-event="listen:click, createNote">Post</button>
 									<button data-event="listen: click, clearNote">Clear</button>
 									<button data-event="listen: click, removeNote">Remove</button>
 								</td>
 								<td class = "importpicture">
 									Import a picture
 								</td>
 								<td class = "drawpostit">
 									Create a small drawing
 								</td>
 							</table>
 							<div class="qbtimer" data-display="bind:displayTimer, timer">Chrono</div>
 							<button class="qbnext craft1complete invisible" data-display="bind:setVisible, nextVisible" data-event="listen:click,next">Next</button>
 						</div>
 						<div class = "qbscenario">
 							<legend>Build a scenario</legend>
 							<textarea class="qbscenariotitle" required name="title" data-model = "bind: value, title" data-display = "bind:setReadOnly, isCurrentStep" placeholder="Enter your story title" data-event="listen:keydown, checkNext"></textarea>
 							<textarea maxlength=600 class="qbstory" name="story" placeholder="Write your story here" data-event="listen:keydown, checkNext" data-model="bind:value, story" data-display = "bind:setReadOnly, isCurrentStep"></textarea>
 							<textarea maxlength=600 class="qbsolution" name="solution" placeholder="Describe your solution" data-event="listen:keydown, checkNext" data-model="bind:value, solution" data-display = "bind:setReadOnly, isCurrentStep"></textarea>
 							<div class="qbtimer" data-display="bind:displayTimer, timer">Chrono</div>
 							<button class="qbnext scenariocomplete invisible" data-display="bind:setVisible, nextVisible" data-event="listen:click,next">Next</button>
 						</div>
 						<div class = "qbtech">
 							<div class = "smallscenariocard" data-event = "listen: click, displayScenario">
 								<div class="smallscenariotitle" data-display="bind:innerHTML, scenarioTitle">Scenario card</div>
 								<div class = "scenarioicon"></div>
 							</div>
 							<div class = "techdrawingarea">
 								Draw your technology cards
 								<div class = "techdeck" data-display = "bind: setVisible, showTechnoDeck; bind:innerHTML, cardsInDeck" data-event = "listen: click, draw"></div>
 								<div class = "techcards">
 									<ul class = "techdrawing" data-model = "foreach">
 										<li> 
 											<div class = "smalltechnocard" data-event = "listen: click, zoom">
 												<h1 class = "smallcardtitle" data-model="bind:innerHTML, doc.title">Techno</h1>
 												<div class = "smallcardpicture"><img data-model="bind:src, doc.picture_url"></img></div>
 												<div class = "smallcardinfo" data-model="bind:innerHTML, doc.category"></div>
 											</div>
 											<button class = "drawok" data-event="listen:click, toggleLock" data-display="bind: setBg, drawok; bind: setVisible, isCurrentStep"></button>
 											<button class = "removetech" data-display = "bind: toggleRemove, drawok" data-event = "listen: click, remove"></button>
 										</li>
 									</ul>
 								</div>
 							</div>
 							<div class="qbtimer" data-display="bind:displayTimer, timer">Chrono</div>
 							<button class="qbnext techcomplete invisible" data-display="bind:setVisible, nextVisible" data-event="listen:click,next">Next</button>
 						</div>
 						<div class = "qbcraft2">
 							<div class = "leftboard">
 								<div class = "techlist">
 									<ul data-cards = "foreach">
 										<li data-event="listen:click, zoom">
 											<div data-cards = "bind: innerHTML, title"></div>
 										</li>
 									</ul>
 								</div>
 								<div class = "smallscenariocard qbcraftscenario" data-event = "listen: click, displayScenario">
 									<div class="smallscenariotitle" data-display="bind:innerHTML, scenarioTitle">Scenario card</div>
 									<div class = "scenarioicon"></div>
 								</div>
 							</div>
 							<div class = "wb2 whiteboard">
 								<div class = "proposalboard">
 									<ul data-proposal = "foreach">
 										<li class = "wb2proposal" data-proposal = "bind: innerHTML, proposal; bind: setStyle, style">
 										</li>
 									</ul>
 								</div>
 								<div class = "whiteboardnav invisible" data-display = "bind: setVisible, navBar">
 									<ul data-page = "foreach">
 										<li> 
 											<div data-page = "bind: setSelected, selected" data-event= "listen: click, showPage">
 											</div>
 										</li>
 									</ul>
 								</div>
 							</div>
 							<div class = "ut2 usertable">
 								<div class = "writeproposal">
 									<textarea class = "pdraft" data-draft = "bind: value, draft; setStyle, style" placeholder = "Propose an implementation"></textarea>
 									<div class = "poptions">
 										<button data-event= "listen:click, createProposal">post</button>
 										<button data-event = "listen:click, clearDraft">clear</button>
 										<ul class = "pstyleoptions" data-options = "foreach">
 											<li>
 												<button data-event="listen: click, action" data-options = "bind: setLabel, name">option</button>
 											</li>
 										</ul>
 									</div>
 								</div>
 								<div class = "drawproposal">Create or import a drawing</div>
 							</div>
 							<div class="qbtimer" data-display="bind:displayTimer, timer">Chrono</div>
 							<button class="qbnext craft2complete invisible" data-display="bind:setVisible, nextVisible" data-event="listen:click,next">Next</button>
 						</div>
 						<div class = "qbidea">
 							<legend>Formulate your idea</legend>
 							<textarea maxlength=28 class="qbideatitle" required name="title" data-model = "bind: value, title" data-display = "bind:setReadOnly, isCurrentStep" placeholder="Enter your story title" data-event="listen:keydown, checkNext"></textarea>
 							<textarea maxlength=600 class="qbideadesc" name="description" placeholder="Describe your idea in non technical terms. What problem are you solving? How will it help users?" data-event="listen:keydown, checkNext" data-model="bind:value, description" data-display = "bind:setReadOnly, isCurrentStep"></textarea>
 							<textarea maxlength=600 class="qbideasol" name="solution" placeholder="Describe what technologies you would use and how. What are the key innovations of your design?" data-event="listen:keydown, checkNext" data-model="bind:value, solution" data-display = "bind:setReadOnly, isCurrentStep"></textarea>
 							<div class="qbtimer" data-display="bind:displayTimer, timer">Chrono</div>
 							<button class="qbnext ideacomplete invisible" data-display="bind:setVisible, nextVisible" data-event="listen:click,next">Finish !</button>
 							<div class="qbispublic">
								<input type="radio" name="visibility" value = "private" data-event="listen:click, changeVisibility" data-model="bind: togglePublic, visibility"/> Private
								<input type="radio" name="visibility" value = "public" data-event="listen:click, changeVisibility" data-model="bind: togglePublic, visibility"/> Public
							</div>
 						</div>
 						<div class = "qbwrapup">
 							<div class = "congrats">CONGRATULATIONS !</div>
 							<p class="wrapuptext">You successfully completed your Ideafy session</p>
 							<div class = "sessionresults">
 								<div class = "sessionoutputs">
 									<div class = "elapsedtime">Your time:<br />
 										<span data-result="bind:showtime, duration"></span>
 									</div>
 									<div class = "sessionscore">Your score:<br />
 										<span data-result="bind:innerHTML, score">N/A</span>
 									</div>
 									<div class = "smallideacard" data-event = "listen: click, displayIdea">
 										<div class="smallideatitle" data-result="bind:innerHTML, ideaTitle">Idea card</div>
 										<div class = "ideaicon"></div>
 									</div>
 									<div class = "smallscenariocard " data-event = "listen: click, displayScenario">
 										<div class="smallscenariotitle" data-result="bind:innerHTML, scenarioTitle">Scenario card</div>
 										<div class = "scenarioicon"></div>
 									</div>
 								</div>
 							</div>
 							<div class = "sessioninputs">
 								<span class = "wrapuptext">Cards used during this session: </span>
 								<ul class = "sessioncards" data-input= "foreach">
 									<li class = "smallcard" data-input="bind: setClass, type" data-event = "listen:click, zoom">
 										<h1 class = "smallcardtitle"> <span data-input="bind:innerHTML, title">Title</span></h1>
 										<div class = "smallcardpicture"><img data-input="bind:src, picture_url"></img></div>
 										<div class = "smallcardinfo" data-input="bind:innerHTML, category">Category</div>
 									</li>
 								</ul>
 							</div>
 						</div>
 					</div>
 				</div>
 			</div>
 		</div>
 		
 		<div class="connect">
 			<div class = "headerbar">
 				<div class = "social-header">
 					<div class="homeButton" name="startup" data-event="listen:click,exit"></div>
 					<div class = "contentMenu">
 						<ul data-menu="foreach">
 							<li>
 								<button class="contentButton" data-menu = "bind:innerHTML, label; bind:name, name" data-event = "listen: click, display">Connections</button>
 							</li>
 						</ul>
 					</div>
 				</div>
 			</div>
 			<div class = "socialcontent">
 				<div class = "connections">
 					<div class = "contactbox">
 						<h2 class = "listboxtitle">My acquaintances</h2>
 						<div class = "contactsearch">
 							<input id="contactsearch" type="search" results="5" autosave="prevsearch" placeholder="Search" data-searchevent="listen:keyup,search"/>
 						</div>
 						<div class = "index">
 							<ul class = "indexletters" data-index="foreach">
							<li class = "indexletter" data-index="bind: innerHTML, letter; bind: setActive, active" data-contactevent="listen: click, selectIndex">A</li>
 							</ul>
 						</div>
 						<div class = "listrightbox">
 							<div class = "acquaintancelist">
 								<ul class = "connectionlist" data-connection = "foreach">
 									<li class = "connection" data-connection = "bind: setSelected, selected" data-contactevent = "listen: click, selectContact">
 										<span data-connection = "bind: formatName, firstname"></span> 
 										<span data-connection = "bind: formatName, lastname"></span>
 										<button class = "deleteconnection invisible" data-connection="bind:setVisible, selected" data-contactevent="listen:click, deleteConnection"></button>
 									</li>
 								</ul>
							</div>
 							<div class = "listoptions">
 								<button data-contactevent = "listen:click, addContact">Add acquaintance</button>
 								<button data-contactevent = "listen:click, addGroup">Add group</button>
 								<!-- to be added later !! <button data-event = "listen:click, importContacts">Import</button> -->
 							</div>
 						</div>
 					</div>
 					<div class = "contactcontentbox">
 						
 						<div class = "contactdetails">
 							<div class="largecardpopup largecharactercard contactprofile" style="margin-top:10px">
 								<div class="largecardtitle profiletitle">
									<h1 class="profiletitle" data-model="bind:innerHTML, username">Vincent WEYL</h1>
								</div>
								<div class="innercardcontent">
									<div class="idcard">
										<div class="pictureid">
											<img data-avatar="bind:src, image"/>
										</div>
										<div class="idinfo">
											<table class="idessentials">
												<tr>
													<th>Name:</th>
													<td class="idlastname" data-model="bind:innerHTML, lastname"></td>
												</tr>
												<tr>
													<th>First name:</th>
													<td data-model="bind:innerHTML, firstname"></td>
												</tr>
												<tr>
													<th data-model="bind:setVisible, birthdate" class="invisible">Birthday:</th>
													<td data-model="bind:formatDate, birthdate"></td>
												</tr>
												<tr>
													<th data-model="bind:setVisible, address.city" class="invisible">Location:</th>
													<td class="idresidence" data-model="bind:getLocation, address"></td>
												</tr>
												<tr>
													<th data-model="bind:showFamily, family.couple" class="invisible">Family situation:</th>
													<td data-model="bind:setFamilyStatus, family.couple"></td>
												</tr>
												<tr>
													<th data-model="bind:showFamily, family.children" class="invisible">Children:</th>
													<td data-model="bind:setValue, family.children"></td>
												</tr>
												<tr>
													<th data-model="bind:setVisible, occupation.details.job" class="invisible">Occupation:</th>
													<td data-model="bind:setValue, occupation.details.job"></td>
												</tr>
												<tr>
													<th data-model="bind:setVisible, occupation.details.organization" class="invisible">Organization:</th>
													<td data-model="bind:setValue, occupation.details.organization"></td>
												</tr>
											</table>
										</div>
									</div>
									<div class="profiletabs">
										<ul class="profilebuttons" data-profiletabs="foreach">
											<li><button data-profiletabs = "bind: name, button; bind:innerHTML, label; bind:setVisible, isVisible" data-profileevent="listen: click, switchTab"></button></li>
										</ul>
									</div>
									<div class = "innercontactstack">
										<div class ="contactdashboard">
											<div class="contactinfo" data-dashboard="bind:innerHTML, dashboard">Dashboard: how many ideas, sessions, acquaintances, 2questions, Ideafy Points, rank, grade</div>
										</div>
										
										<div class ="contactwhatsnew">
											<div class="contactinfo" data-whatsnew="bind:innerHTML, whatsnew" >Recent activity</div>										
										</div>
										
										<div class="miscinfo contactmiscinfo">
											<table class="misccontent">
												<tr> 
													<th>Leisure activities</th>
												</tr>
												<tr>
													<td class = "charextras" data-model="bind:displayInfo, leisure_activities">Biking,<br/>reading,<br/>gaming</td>
												</tr>	
												<tr>
													<th>Centers of Interest</th>
												</tr>
												<tr>
													<td class = "charextras" data-model="bind:displayInfo, interests">Basically everything but mostly technology, science<br/>Now and then I take a look at politics and sports</td>
												</tr>
												<tr>
													<th>Comments:</th>
												</tr>
												<tr>
													<td class = "charextras" data-model="bind:displayInfo, comments">I also happen to play violin, but really only a couple of notes</td>
												</tr>
											</table>
										</div>
										<div class ="contactnotes">
											<textarea readonly="readonly" data-note="bind:value, notes; bind:isReadonly, readonly" placeholder ="Notes about this contact" data-eventnote="listen: click, edit"></textarea>
											<div id="notebuttons" class="invisible">	
												<button data-eventnote="listen:click, saveNote">Save</button>
												<button data-eventnote="listen:click, cancelNote">Cancel</button>
											</div>
										</div>
									</div>
								</div>
								<div class="contactfooter">
									<div class = "contactoptions">
										<button data-eventoption="listen:click, sendmsg">send message</button>
 										<button data-option="bind: setVisible, acceptTwoCents" data-eventoption="listen:click, twocents">send twocent </button>
 										<button data-options="bind: setVisible, online" data-eventoption="listen:click, chat">chat</button>
 									</div>
								</div>			
							</div>
						</div>
 						
 						<div class="addcontact">
 							
 							<blockquote>The Ideafy community now counts <b><span data-model="bind: innerHTML, size"></span></b> users merrily crafting and exchanging ideas.</blockquote>
 							<p>Look up your acquaintances and friends in the community and connect.</p>
 							<p>Building up your address book is the best way to increase exposure of your ideas and thoughts, but also to gain access to a much broader content.</p>
 							<p>Add your contacts now:</p>
 							<input type="search" class = "contactemail" data-model="bind: value, email" placeholder="Enter email address of the person you wish to connect with" data-addcontactevent="listen:keyup, checkMail; listen:click, resetAction">
 							<button class = "invisible" data-model="bind:setVisible, action; bind: innerHTML, action" data-addcontactevent="listen: click, action"></button>
 							<div class = "contactqueryres invisible" data-model="bind: setVisible, result">
 								<blockquote data-model="bind: innerHTML, result">Your request has been sent</blockquote>
 							</div>
 							<p>or lookup database:</p>
 							<input type="search" class = "contactfirstname" data-model="bind: value, firstname" placeholder="First name" data-addcontactevent="listen:keyup, resetSearchResult"></textarea>
 							<input type="search" class = "contactlastname" data-model="bind: value, lastname" placeholder="Last name" data-addcontactevent="listen:keyup, resetSearchResult"></textarea>
 							<br/>
 							<button class = "contactsearch" data-addcontactevent="listen: click, search">Search</button>
 							<div class = "contactqueryres invisible" data-model="bind: setVisible, searchResult">
 								<blockquote data-model="bind: innerHTML, searchResult"></blockquote>
 								<button class = "invisible" data-model="bind: setVisible, searchId" data-addcontactevent = "listen: click, connectSearch">Connect</button>
 							</div>
 							
 							
 							
 							<!-- to be added later !! <button data-eventintro="listen: click, import">Import</button> -->
 							
 						</div>
 						
 						<div class = "groupdetails">
 							<div class="largecardpopup largecharactercard groupprofile" style="margin-top:10px">
 								<div class="largecardtitle grouptitle">
 									<textarea class="groupname" required readonly="readonly" name="groupname" data-group = "bind: value, groupname; bind: setReadOnly, edit" placeholder="Enter group name"></textarea>
 								</div>
 								<div class = "groupcontent">
 									<ul class="groupmembers" data-model="foreach">
 										<li class = "connection">
 											<span data-model = "bind: formatName, firstname"></span> 
 											<span data-model = "bind: formatName, lastname"></span>
 											<button class = "deleteconnection invisible" data-group="bind:setVisible, edit" data-groupevent="listen:click, remove"></button>
 										</li>
 									</ul>
 								</div>
 								<div class = "groupoptions">
 									<button data-group="bind: setInvisible, edit" data-groupevent = "listen: click, modify">Modify</button>
 									<br/>
 									<button class = "invisible" data-group="bind: setVisible, edit" data-groupevent = "listen: click, ok">Ok</button>
 									<button class = "invisible" data-group="bind: setVisible, edit" data-groupevent = "listen: click, cancel">Cancel</button>
 								</div>
 							</div>
 						</div>
 						
 						<div class = "contactshare">
 							<div class="largecardpopup largecharactercard groupprofile" style="margin-top:10px">
 								<div class="largecardtitle grouptitle">
 									<textarea class="groupname" required readonly="readonly" name="ideatitle" data-share = "bind: value, title"></textarea>
 								</div>
 								<div class="shareintro">
 									<div class="shareleftarrow"></div>
 									<p data-share="bind: innerHTML, intro">Select aquaintances or groups you want to share your idea with from the list on your left</p>
 								</div>
 								<div class = "groupcontent">
 									<ul class="groupmembers" data-model="foreach">
 										<li class = "connection">
 											<span data-model = "bind: formatName, firstname"></span> 
 											<span data-model = "bind: formatName, lastname"></span>
 											<button class = "deleteconnection" data-shareevent="listen:click, remove"></button>
 										</li>
 									</ul>
 								</div>
 								<div class = "shareoptions">
 									<button class = "invisible" data-share="bind: setVisible, shareOk" data-shareevent = "listen: click, share">Share</button>
 									<button data-shareevent = "listen: click, cancel">Cancel</button>
 								</div>
 							</div>
 						</div>
 						
 					</div>
 				</div>
 				
 				<div class = "msgcenter">
 					
 					<div class = "messagebox">
 						<div class = "filteroptions">
 							<ul class = "filteroptions" data-options="foreach">
 								<li class="msgoption">
 									<button data-options="bind: innerHTML, label; bind: setSelected, selected" data-filterevent="listen:click, filter">All</button>
 								</li>
 							</ul>
 							<button class = "composemsg" data-filterevent = "listen: click, compose"></button>
 						</div>
 						<div class = "msgliststack">
 							<div class = "allmessages">
 								<ul class = "msglist" data-msgmodel = "foreach">
 									<li class = "msgpreview">
 										<div class = "msglabel" data-msgmodel = "bind: setColor, type" data-msgevent="listen: click, unread"></div>
 										<div class = "msgoverview" data-msgmodel = "bind: setStatus, status" data-msgevent="listen: click, read">
 											<p>
 												<span class = "msgauthor" data-msgmodel = "bind:formatAuthor, author"></span>
 												<span class = "msgdate" data-msgmodel = "bind: formatDate, date">Date</span>
 											</p>
 											<br/>
 											<p class = "msgobject" data-msgmodel = "bind: innerHTML, object">Object</p>
 										</div>
 									</li>
 								</ul>
 							</div>
 							<div class = "mplist">
 								<span data-model="bind:innerHTML, coucou"></span>
 								<ul class = "msglist">
 									<li class = "msgpreview">Message</li>
 								</ul>
 							</div>
 							<div class = "notifications">
 								<ul class = "msglist">
 									<li class = "msgpreview">Message</li>
 								</ul>
 							</div>
 							<div class = "unread">
 								<ul class = "msglist">
 									<li class = "msgpreview">Message</li>
 								</ul>
 							</div>
 						</div>
 					</div>
 					
 					<div class = "messagecontentbox">
 						
 						<div class = "nomsgselected">
 							<blockquote data-nomsg = "bind: innerHTML, msg"></blockquote>
 							<img data-nomsg = "bind: src, url"></img>
 						</div>
 						
 						<div class = "messagedetails">
 							<div class = "messageheader">
 								<div class = "senderavatar">
 									<img data-avatar = "bind: src, image"></img>
 								</div>
 								<div class = "senderinfo">
 									<span data-message = "bind: formatAuthor, author"></span>
 								</div>
 								<div class = "messagedate">
 									<span data-message = "bind: formatDate, date"></span>
 								</div>
 								<div class = "messageobject">
 									<span data-message = "bind: innerHTML, object"></span>
 								</div>
 							</div>
 							<div class = "messageactionbar">
 								<ul class="messageactions" data-msgaction="foreach">
 									<li><button data-msgaction="bind: innerHTML, label" data-messageevent= "listen: click, action">reply</button></li>
 								</ul>
 							</div>
 							<div class = "messagebody">
 								<blockquote data-message="bind: formatBody, body" data-messageevent="listen: click, popup"></blockquote>
 							</div>
 						</div>
 						
 						<div class = "compose">
 							<div class = "composeheader">
 								<span>To : </span>
 								<br/>
 								<input id="tofield" type="text" name:"to" class = "tofield" data-newmsg="bind: value, recipients" data-newmsgevent="listen: keydown, autoCompleteToField" data-info="bind: setStyle, type">
 								<div class = "autocomplete invisible">
 									<ul class="autocompletelist">
 										<li>Contact</li>
 									</ul>
 								</div>
 							</div>
 							<div class = "composeobject">
 								<span>Object: </span>
 								<br/>
 								<input class = "objectfield" data-newmsg = "bind: value, object; bind: setPlaceHolder, object"></textarea>
 							</div>
 							<hr/>
 							<div class = "composebody">
 								<span>Your message: </span>
 								<textarea class = "bodyfield" data-newmsg = "bind: value, body" ></textarea>
 							</div>
 							<div class = "composeaction">
 								<button data-newmsgevent="listen:click, send">Send</button>
 								<button>Cancel</button>
 							</div>
 							<div class = "composeinfo">
 								<span data-info = "bind: innerHTML, message; bind: setStyle, type"></span>
 							</div>
 						</div>
 						
 						
 					</div>
 					
 				</div>
 				<div class = "twocents"></div>
 			</div>
 		</div>
 		
 		<div class="dashboard">
 			<div class = "headerbar">
 				<div class = "dashboard-header">
 					<div class="homeButton" name="startup" data-event="listen:click,exit"></div>
 					<div class = "contentMenu">
 						<ul data-menu="foreach">
 							<li>
 								<button class="contentButton" data-menu = "bind:innerHTML, label; bind:name, name" data-event = "listen: click, display">Connections</button>
 							</li>
 						</ul>
 					</div>
 				</div>
 			</div>
 			
 			<div class = "dashboardcontent">
 				<div class = "userprofile">
 					<div class = "profilemenu">
 						<ul data-profilemenu="foreach">
 							<li data-profilemenu="bind: innerHTML, label" data-profileevent="listen:click, show"></li>
 						</ul>
 					</div>
 					<div class = "profilecontentstack">
 						<div class="profiledetails">
 							<div class="profileheader">
 								<div class = "avatarbox">
 									<div class="pictureid" data-avatar="bind: setStyle, image">
									</div>
									<div class = "avatarlist">
										<ul data-avatars="foreach">
											<li>
												<img data-avatars="bind:src, file" data-editprofileevent="listen: click, selectAvatar"/>
											</li>
										</ul>
									</div>
									<div class="avatarform">
										<span class = "chooseavatar">
											<input id="selectavatar" type="file" enctype="multipart/form-data" accept = "image/gif, image/jpeg, image/png" data-editprofileevent= "listen: change, uploadAvatar; listen: click, checkEmpty">
											<button>Choose a picture</button>
										</span>
										<!-- <button id="submitavatar" data-editprofileevent = "listen: click, uploadAvatar">Upload</button> -->
										<div id="uploadprogress" class="invisible">upload progress</div>
									</div>
								</div>
								<div class="titlebox">
									<h1 data-userdetails="bind:innerHTML, username"></h1>
									<span>You have </span><span class="ideafypts" data-userdetails="bind: innerHTML, ip">1050</span><span> I.P.</span>
									<br/>
									<span>Your current grade is: </span><span class="ideafygrade" data-userdetails = "bind: setRank, ip, "></span>
									<br/>
									<span>Your profile is </span><span data-profilecompletion="bind:innerHTML, percentage"></span><span>% complete</span>
								</div>
							</div>
							<div class="profiletabs">
									<ul class="profilebuttons" data-profiletabs="foreach">
										<li><button data-profiletabs = "bind: name, button; bind:innerHTML, label; bind:setSelected, selected" data-editprofileevent="listen: click, switchTab"></button></li>
									</ul>
							</div>
							<div class="innerprofilestack">
								<form class = "userdata">
									<fieldset>
										<label>First Name</label><input data-userdata="bind:value, firstname; bind" readonly="readonly" data-userevent="listen:click, edit" type="text">
										<label>Last Name</label><input type="text">
										<label>Date of birth</label><input type="date">
										<label>My family status</label><input type="radio">
										<label>Number of children</label><input type="number">
										<label>Location</label><input type="text">
										<label>State (or Country)</label><input type="text">
									</fieldset>
								</form>
								<form class = "userjob">
									
								</form>
								<form class = "userhobbies">
									
								</form>
								<form class = "userinterests">
									
								</form>
							</div>		
						</div>
						
						<div class = "profiledetails stats">
							<div class="profileheader">
 								<div class = "avatarbox">
 									<div class="pictureid" data-avatar="bind: setStyle, image">
									</div>
								</div>
								<div class="titlebox">
									<h1 data-stats="bind:innerHTML, username"></h1>
									<span class="ideafypts" data-stats="bind: setIP, ip"></span>
									<br/>
									<span class="ideafygrade" data-stats = "bind: setRank, ip, "></span>
								</div>
							</div>
							<ul>
								<li><p data-stats="bind: setIdeas, ideas_count"></p></li>
								<li><p data-stats="bind: setSUSessions, su_sessions_count"></p></li>
								<li><p data-stats="bind: setTwoQuestions, twoquestions_count"></p></li>
								<li><p data-stats="bind: setTwoCents, twocents_count"></p></li>
								<li><p data-stats="bind: setAcquaintances, connections"></p></li>
							</ul>
							<hr/>
							<div class="usernews">
								RECENT NEWS
								<ul data-news="foreach">
									<li>
										<span data-news="bind: formatDate, date"></span>
										<span data-news="bind: innerHTML, text"></span>
									</li>
								</ul>
							</div>
						</div>
						
						<div class = "profiledetails achievements">
							<ul class="achievementslist" data-model="foreach">
								<li class="achievement" data-model="bind: setAchieved, done">
									<img data-model="bind: src, detail.picture"/>
									<legend data-model="bind: innerHTML, detail.title"></legend>
								</li>
							</ul>
						</div>
						<div class = "profiledetails leaderboard">
							<ol class = "leaderlist" data-leaders = "foreach">
								<li class = "leader">
									<span class = "leadername" data-leaders = "bind: innerHTML, value.username">Name</span>
									<span class = "leaderscore" data-leaders = "bind: innerHTML, value.ip"></span>
								</li>
							</ol>
						</div>
					</div>
 				</div>
 				<div class = "settings">
 					<button>Change password</button>
 					<button>Change email address</button>
 					<button>Reset application</button>
 					<button>Reset settings</button>
 				</div>
 				<div class = "about">
 					<div class = "aboutmenu">
 						<ul data-aboutmenu="foreach">
 							<li data-aboutmenu="bind: innerHTML, label" data-aboutevent="listen:click, show"></li>
 						</ul>
 					</div>
 					<div class = "aboutstack">
 						<div class="userguide"></div>
 						<div class="faq"></div>
 						<div class="support"></div>
 						<div class="eula"></div>
 						<div class="credits"></div>
 					</div>
 				</div>
 			</div>
 		</div>
 		
 		 <div class="popups">
 			<button class="popups-exit" data-event="listen:click, exitPopup"></button>
 			<div class="popupstack">
 				<div class="charpopup">
					<div class="largecardpopup largecharactercard" style="margin-top:20px">
				
						<div class="largecardtitle charactertitle">
							<h1 class="largecardtitle" data-model="bind:innerHTML, title">CHRISTIAN</h1>
						</div>
				
						<div class="innercardcontent">
							<div class="idcard">
								<div class="pictureid">
									<img data-model="bind:src, picture_url"/>
								</div>
								<div class="idinfo">
									<table class="idessentials">
										<tr>
											<th>Name:</th>
											<td class="idlastname" data-model="bind:innerHTML, lastname">Bernard</td>
										</tr>
										<tr>
											<th>First name:</th>
											<td data-model="bind:innerHTML, firstname">Christian</td>
										</tr>
										<tr>
											<th>Age:</th>
											<td data-model="bind:innerHTML, age">62 years</td>
										</tr>
										<tr>
											<th>Place of residence:</th>
											<td class="idresidence" data-model="bind:innerHTML, location">Caen</td>
										</tr>
										<tr>
											<th>Family status:</th>
											<td data-model="bind:innerHTML, family.couple">Divorced</td>
										</tr>
										<tr>
											<th>Children:</th>
											<td data-model="bind:innerHTML, family.children">1</td>
										</tr>
										<tr>
											<th>Employment status:</th>
											<td data-model="bind:innerHTML, occupation.details.situation">Employed</td>
										</tr>
										<tr>
											<th>Occupation:</th>
											<td data-model="bind:innerHTML, occupation.details.job">Cardiologist</td>
										</tr>
										<tr>
											<th>Employer:</th>
											<td data-model="bind:innerHTML, occupation.details.organization">Self employed</td>
										</tr>
									</table>
								</div>
							</div>
							<div class="miscinfo">
								<table class="misccontent">
									<tr> 
										<th>Leisure activities</th>
									</tr>
									<tr>
										<td class = "charextras" data-model="bind:displayInfo, leisure_activities"></td>
									</tr>	
									<tr>
										<th>Centers of Interest</th>
									</tr>
									<tr>
										<td class = "charextras" data-model="bind:displayInfo, interests"></td>
									</tr>
									<tr>
										<th>Comments:</th>
									</tr>
									<tr>
										<td class = "charextras">
										</td>
									</tr>
								</table>
							</div>
						</div>
						<div class="largecardfooter">
							<img src="images/logo.png"></img>
						</div>			
					</div>
				</div>
				<div class="cardpopup">	
					<div class="largecardpopup" style="margin-top:20px">
						<div class="largecardtitle">
							<h1 data-model="bind:innerHTML, title">HÔTEL</h1>
						</div>
						<div class="innercardcontent">
							<div class="picturearea">
								<img data-model="bind:src, picture_url"></img>
								<div class="picturecredit">
									<span>Picture: </span>
									<span class="copyright">© </span><span data-model="bind:innerHTML,picture_credit">Picture_source</span>
								</div>
							</div>
							<div class="didyouknow">
								<h2>Did you know ?</h2>
								<div class="dykcontent">
									<blockquote data-model="bind:innerHTML, didYouKnow"></blockquote>
									<p class="dyksources">Sources: <span data-model="bind:formatSources, sources">list of sources</span></p>
								</div>
							</div>
						</div>
						<div class="largecardfooter">
							<img src="images/logo.png"></img>
						</div>
					</div>
 				</div>
 				<div class = "scenariopopup">
 					<div class="largecardpopup largescenariocard" style="margin-top:20px">
 						<div class="largecardtitle">
							<h1 class="largecardtitle scenariotitle" data-model="bind:innerHTML, title"></h1>
						</div>
						<div class = "largecarddesc">
							<p class = "scenariodesc" data-model = "bind:innerHTML, story"></p>
						</div>
						<div class = "largecarddesc">
							<p class = "scenariosol" data-model = "bind:innerHTML, solution"></p>
						</div>
						<div class="largecardfooter">
							<div class = "authors">Written by: <span data-model="bind:innerHTML, authors"></span></div>
							<div class = "date"><span data-model="bind: formatDate, date"></span></div>
						</div>
 					</div>
 				</div>
 				<div class = "ideapopup">
 					<div class="largecardpopup largeideacard" style="margin-top:20px">
 						<div class="largecardtitle">
							<h1 class="largecardtitle" data-model="bind:innerHTML, title"></h1>
						</div>
						<div class = "largecarddesc">
							<p class = "ppideadesc" data-model = "bind:innerHTML, description"></p>
						</div>
						<div class = "largecarddesc">
							<p class = "ppideasol" data-model = "bind:innerHTML, solution"></p>
						</div>
						<div class="largecardfooter">
							<div class = "authors">Written by: <span data-model="bind:innerHTML, authors"></span></div>
							<div class = "date"><span data-model="bind: formatDate, date"></span></div>
							<div class = "ideavisibility" data-model="bind:innerHTML, visibility"></div>
						</div>
 					</div>

 				</div>
 			</div>
 		</div>
 		
 	</div>
 	
  	<script src="/socket.io/socket.io.js"></script>
 	<script src="javascripts/lib.js"></script>
 	<script src="src/services.js"></script>
 	<script src="src/container.js"></script>
 	<script src="src/dbutils.js"></script>
 	<script src="src/startup/login.js"></script>
 	<script src="src/startup/signup.js"></script>
 	<script src="src/startup/startup.js"></script>
 	<script src="src/startup/library.js"></script>
 		<script src="src/library/ideas.js"></script>
 		<script src="src/library/ideas/idealistheader.js"></script>
 		<script src="src/library/ideas/idealiststack.js"></script>
 		<script src="src/library/ideas/idealists.js"></script>
 		<script src="src/library/ideas/ideacontentstack.js"></script>
 		<script src="src/library/ideas/newidea.js"></script>
 		<script src="src/library/ideas/displayidea.js"></script>
 		<script src="src/library/ideas/editidea.js"></script>
 		<script src="src/library/decks.js"></script>
 		<script src="src/library/decks/activedeck.js"></script>
 		<script src="src/library/decks/decklist.js"></script>
 		<script src="src/library/decks/deckcontent.js"></script>
 		<script src="src/library/decks/deckoverview.js"></script>
 		<script src="src/library/decks/deckcharacters.js"></script>
 		<script src="src/library/decks/deckcontexts.js"></script>
 		<script src="src/library/decks/deckproblems.js"></script>
 		<script src="src/library/decks/decktechno.js"></script>
 		<script src="src/library/sessions.js"></script>
 	<script src="src/startup/brainstorm.js"></script>
 		<script src="src/brainstorm/bmenu.js"></script>
 		<script src="src/brainstorm/quickb.js"></script>
 		<script src="src/brainstorm/quick/qbstart.js"></script>
 		<script src="src/brainstorm/quick/qbsetup.js"></script>
 		<script src="src/brainstorm/quick/qbcraft1.js"></script>
 		<script src="src/brainstorm/quick/qbscenario.js"></script>
 		<script src="src/brainstorm/quick/qbtech.js"></script>
 		<script src="src/brainstorm/quick/qbcraft2.js"></script>
 		<script src="src/brainstorm/quick/qbidea.js"></script>
 		<script src="src/brainstorm/quick/qbwrapup.js"></script>
 	<script src="src/startup/connect.js"></script>
 		<script src="src/connect/contacts.js"></script>
 			<script src="src/connect/contacts/contactlist.js"></script>
 			<script src="src/connect/contacts/contactdetails.js"></script>
 			<script src="src/connect/contacts/addcontact.js"></script>
 			<script src="src/connect/contacts/groupdetails.js"></script>
 			<script src="src/connect/contacts/contactshare.js"></script>
 		<script src="src/connect/messages.js"></script>
 			<script src="src/connect/messages/messagebox.js"></script>
 			<script src="src/connect/messages/msglists.js"></script>
 			<script src="src/connect/messages/messagedetails.js"></script>
 			<script src="src/connect/messages/compose.js"></script>
 		<script src="src/connect/twocents.js"></script>
 	<script src="src/startup/dashboard.js"></script>
 		<script src="src/dashboard/profile.js"></script>
 			<script src="src/dashboard/profilecontent/profiledetails.js"></script>
 			<script src="src/dashboard/profilecontent/innerprofilestack.js"></script>
 			<script src="src/dashboard/profilecontent/stats.js"></script>
 			<script src="src/dashboard/profilecontent/achievements.js"></script>
 			<script src="src/dashboard/profilecontent/leaderboard.js"></script>
 		<script src="src/dashboard/settings.js"></script>
 		<script src="src/dashboard/about.js"></script>
 			<script src="src/dashboard/about/userguide.js"></script>
 			<script src="src/dashboard/about/faq.js"></script>
 			<script src="src/dashboard/about/support.js"></script>
 			<script src="src/dashboard/about/eula.js"></script>
 			<script src="src/dashboard/about/credits.js"></script>
 	<script src="src/popups.js"></script>
 		<script src="src/popups/library/charpopup.js"></script>
 		<script src="src/popups/library/cardpopup.js"></script>
 		<script src="src/popups/brainstorm/scenariopopup.js"></script>
 		<script src="src/popups/brainstorm/ideapopup.js"></script>
 	<script src="src/app.js"></script>
 </body>
